{"version":3,"sources":["webpack:///./src/components/modals/newGroupAdmin.vue?b81f","webpack:///src/components/modals/newGroupAdmin.vue","webpack:///./src/components/modals/newGroupAdmin.vue?8cd4","webpack:///./src/components/modals/newGroupAdmin.vue?f650","webpack:///./src/components/modals/newGroupAdmin.vue?48f0"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","admin","attrs","scopedSlots","_u","key","fn","ref","invalid","el","id","getUsers","model","value","callback","$$v","$set","expression","_e","required","email","type","on","$event","$store","dispatch","addAdmin","staticRenderFns","props","Boolean","default","data","userEmail","userId","firstName","lastName","description","methods","url","groupId","text","getGroup","users","forEach","user","userExist","setLoadingStatus","$notify","group","title","makeRequest","mounted","getters","beforeDestroy","component"],"mappings":"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","file":"js/chunk-09ba904a.a58afcb6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"h1 mb-20\"},[_vm._v(\" \"+_vm._s(_vm.admin ? \"Add group admin\" : \"Invite Member\")+\" \")]),_c('ValidationObserver',{staticClass:\"form-wrap\",attrs:{\"tag\":\"div\"},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar invalid = ref.invalid;\nreturn [_c('div',{staticClass:\"w-100\"},[(_vm.admin)?_c('v-select',{attrs:{\"placeholder\":\"User\",\"searchable\":true,\"clearable\":false,\"reduce\":function (el) { return el.id; },\"label\":\"title\",\"options\":_vm.getUsers},model:{value:(_vm.model.userId),callback:function ($$v) {_vm.$set(_vm.model, \"userId\", $$v)},expression:\"model.userId\"}}):_vm._e(),(!_vm.admin)?_c('div',{staticClass:\"form-row mb-20\"},[_c('div',{staticClass:\"form-row__column\"},[_c('c-input',{attrs:{\"name\":\"Firstname\",\"rules\":{ required: true },\"placeholder\":\"First name\"},model:{value:(_vm.model.firstName),callback:function ($$v) {_vm.$set(_vm.model, \"firstName\", $$v)},expression:\"model.firstName\"}})],1),_c('div',{staticClass:\"form-row__column\"},[_c('c-input',{attrs:{\"name\":\"Firstname\",\"rules\":{ required: true },\"placeholder\":\"Last name\"},model:{value:(_vm.model.lastName),callback:function ($$v) {_vm.$set(_vm.model, \"lastName\", $$v)},expression:\"model.lastName\"}})],1)]):_vm._e(),_c('c-input',{attrs:{\"name\":\"Email\",\"rules\":{ required: true, email: true, type: 'eager' },\"placeholder\":\"Email\"},model:{value:(_vm.model.userEmail),callback:function ($$v) {_vm.$set(_vm.model, \"userEmail\", $$v)},expression:\"model.userEmail\"}}),(!_vm.admin)?_c('c-textarea',{staticClass:\"w-100 mt-20\",attrs:{\"height\":\"115px\",\"rules\":{ required: false },\"placeholder\":\"Message\"},model:{value:(_vm.model.description),callback:function ($$v) {_vm.$set(_vm.model, \"description\", $$v)},expression:\"model.description\"}}):_vm._e()],1),_c('div',{staticClass:\"mt-20 w-100 text-right btn-container\"},[_c('c-button',{staticClass:\"btn-cancel\",attrs:{\"variant\":\"outline-warning\",\"tag\":\"button\",\"size\":\"sm\"},on:{\"click\":function($event){return _vm.$store.dispatch('setActiveModal', null)}}},[_vm._v(\" Cancel \")]),_c('c-button',{staticClass:\"btn-submit\",attrs:{\"variant\":\"info\",\"tag\":\"button\",\"size\":\"sm\",\"disabled\":invalid},on:{\"click\":function($event){return _vm.addAdmin()}}},[_vm._v(\" \"+_vm._s(_vm.admin ? \"Add\" : \"Send\")+\" \")])],1)]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <div class=\"h1 mb-20\">\n      {{ admin ? \"Add group admin\" : \"Invite Member\" }}\n    </div>\n    <ValidationObserver tag=\"div\" class=\"form-wrap\" v-slot=\"{ invalid }\">\n      <div class=\"w-100\">\n        <v-select\n          v-model=\"model.userId\"\n          v-if=\"admin\"\n          placeholder=\"User\"\n          :searchable=\"true\"\n          :clearable=\"false\"\n          :reduce=\"el => el.id\"\n          label=\"title\"\n          :options=\"getUsers\"\n        />\n\n        <div class=\"form-row mb-20\" v-if=\"!admin\">\n          <div class=\"form-row__column\">\n            <c-input\n              v-model=\"model.firstName\"\n              name=\"Firstname\"\n              :rules=\"{ required: true }\"\n              placeholder=\"First name\"\n            />\n          </div>\n          <div class=\"form-row__column\">\n            <c-input\n              v-model=\"model.lastName\"\n              name=\"Firstname\"\n              :rules=\"{ required: true }\"\n              placeholder=\"Last name\"\n            />\n          </div>\n        </div>\n\n        <c-input\n          v-model=\"model.userEmail\"\n          name=\"Email\"\n          :rules=\"{ required: true, email: true, type: 'eager' }\"\n          placeholder=\"Email\"\n        />\n\n        <c-textarea\n          v-if=\"!admin\"\n          class=\"w-100 mt-20\"\n          height=\"115px\"\n          v-model=\"model.description\"\n          :rules=\"{ required: false }\"\n          placeholder=\"Message\"\n        />\n      </div>\n\n      <div class=\"mt-20 w-100 text-right btn-container\">\n        <c-button\n          variant=\"outline-warning\"\n          tag=\"button\"\n          @click=\"$store.dispatch('setActiveModal', null)\"\n          size=\"sm\"\n          class=\"btn-cancel\"\n        >\n          Cancel\n        </c-button>\n        <c-button\n          variant=\"info\"\n          tag=\"button\"\n          size=\"sm\"\n          :disabled=\"invalid\"\n          @click=\"addAdmin()\"\n          class=\"btn-submit\"\n        >\n          {{ admin ? \"Add\" : \"Send\" }}\n        </c-button>\n      </div>\n    </ValidationObserver>\n  </div>\n</template>\n\n<script>\nexport default {\n  props: {\n    admin: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      model: {\n        userEmail: \"\",\n        userId: \"\",\n        firstName: \"\",\n        lastName: \"\",\n        description: \"\"\n      }\n    };\n  },\n  methods: {\n    addAdmin() {\n      let url, text;\n      if (this.admin) {\n        url = [\"API_GROUP_MAKE_ADMIN\", this.model.groupId, this.model.userId];\n        text = \"User has been added as admin.\";\n      } else {\n        url = [\"API_GROUP_INVITE_EXTENDED\", this.model.groupId];\n        text = \"User has been invited.\";\n      }\n\n      let userExist = false;\n      this.getGroup.users.forEach(user => {\n        if (user.email === this.model.userEmail) {\n          userExist = true;\n        }\n      });\n\n      if (!userExist) {\n        this.setLoadingStatus(true);\n        this.makeRequest(url, \"POST\", this.model, null, false)\n          .then(response => {\n            if (response.status === 200 && this.$route.params.id) {\n              this.setLoadingStatus(false);\n              this.loadGroup(this.$route.params.id);\n              this.$store.dispatch(\"setActiveModal\", null);\n              this.$notify({\n                group: \"system\",\n                title: \"Great!\",\n                text,\n                type: \"success\"\n              });\n            }\n          })\n          .catch(() => {\n            this.setLoadingStatus(false);\n            this.$notify({\n              group: \"system\",\n              title: \"Oops!\",\n              text: \"This user not found\",\n              type: \"error\"\n            });\n          });\n      } else {\n        this.setLoadingStatus(false);\n        this.$notify({\n          group: \"system\",\n          title: \"Oops!\",\n          text: \"This user is already invited\",\n          type: \"error\"\n        });\n      }\n    }\n  },\n  mounted() {\n    this.model.groupId = this.$store.getters.getGroup.id;\n  },\n  beforeDestroy() {\n    this.$store.dispatch(\"setActiveModal\", null);\n  }\n};\n</script>\n\n<style lang=\"scss\">\n@import \"./../../style/components/modals/_new-group-admin.scss\";\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./newGroupAdmin.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./newGroupAdmin.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./newGroupAdmin.vue?vue&type=template&id=97f2fa02&\"\nimport script from \"./newGroupAdmin.vue?vue&type=script&lang=js&\"\nexport * from \"./newGroupAdmin.vue?vue&type=script&lang=js&\"\nimport style0 from \"./newGroupAdmin.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/@vue/cli-service/node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!../../../node_modules/vue-svg-inline-loader/dist/index.min.js!./newGroupAdmin.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}